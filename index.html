<!DOCTYPE html>
<html>
	<head>
		<title>Chip's Challenge in HTML5</title>
		<link rel="stylesheet" type="text/css" href="css/main.css">
        <link rel="icon" href="favicon.ico">
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.0/jquery.min.js"></script>
        <script src="js/keydrown.min.js"></script>
        <script src="js/chips.js"></script>
        <script src="js/chips.settings.js"></script>
        <script src="js/chips.global.js"></script>
        <script src="js/chips.vars.js"></script>
        <script src="js/chips.commands.js"></script>
        <script src="js/chips.util.js"></script>
        <script src="rulesets/MS_1_0_0.js"></script>
        <script src="js/chips.data.js"></script>
        <script src="js/chips.assets.js"></script>

        <script src="js/chips.obj.js"></script>
		<script src="js/chips.draw.js"></script>
        <script src="js/chips.events.js"></script>
        <script src="js/chips.map.js"></script>
        <script>
            (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
                        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
                    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
            })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

            ga('create', 'UA-73129254-1', 'auto');
            ga('send', 'pageview');
        </script>
        <script>
            $(document).ready(function() {
                $("#buttonShower").on("click", function(e) {
                    $("#buttonShower").css("display", "none");
                    $("#moveControls").css("display", "block");
                });
            });

            function toggleAtlases() {
                var divs = $("[id^='refContainer']");
                for (var i = 0; i < divs.length; i++) {
                    if (divs[i].style.display === "none") {
                        divs[i].style.display = "block";
                    } else {
                        divs[i].style.display = "none";
                    }
                }
            }
        </script>
	</head>
	<body>
		<div id="canvasDiv">
			<canvas id="gameCanvas">Canvas not supported. Please update your browser!</canvas>
            <div class="linkbar">
                "Chip's Tribute" -
                <a href="https://github.com/dolphinspired/CHIPS">GitHub</a> -
                <a href="http://chipschallenge.wikia.com/wiki/Chip%27s_Challenge_Wiki">Chip's Challenge Wiki</a> -
                Back to <a href="http://www.runeberry.com/">Runeberry Software</a>
            </div>
            <div class="linkbar" style="font-style: italic; padding-top: 6px;">
                If something's not behaving correctly, try a hard-refresh in your browser! (CTRL+F5)
            </div>
		</div>
        <div id="gameMessage"></div>
        <table id="controls">
            <tr>
                <td>
                    <h4>Level Navigation:</h4>
                    <button onclick="chips.map.load.prevLevel();">Previous</button>
                    &nbsp;
                    <button onclick="chips.map.load.level(chips.g.cam.number);">This (restart)</button>
                    &nbsp;
                    <button onclick="chips.map.load.nextLevel();">Next</button>
                    <br/><br/>
                    <button onclick="chips.g.cam.elapsedTime.togglePause();">Pause</button>
                </td>
                <td id="movement">
                    <span id="buttonShower">Use your arrow keys to move, or click here to show on-screen buttons (warning: not very good).</span>
                    <div id="moveControls">
                        &nbsp;<button id="buttonUp" class="totesTouchscreenCompatible">&#9650;</button>
                        <br/>
                        <button id="buttonLeft" class="totesTouchscreenCompatible">&#9664;</button>
                        <button id="buttonDown" class="totesTouchscreenCompatible">&#9660;</button>
                        <button id="buttonRight" class="totesTouchscreenCompatible">&#9654;</button>
                    </div>
                </td>
            </tr>
        </table>
        <div id="gameInstructions">
            <h4>Keyboard Controls:</h4>
            <table>
                <tbody>
                    <tr>
                        <td>Arrow keys</td>
                        <td>Move</td>
                    </tr>
                    <tr>
                        <td>SHIFT+N</td>
                        <td>Next level</td>
                    </tr>
                    <tr>
                        <td>SHIFT+P</td>
                        <td>Previous level</td>
                    </tr>
                    <tr>
                        <td>SHIFT+R</td>
                        <td>Restart level</td>
                    </tr>
                    <tr>
                        <td>SHIFT+C</td>
                        <td>Pause</td>
                    </tr>
                </tbody>
            </table>
        </div>
        <div>
            <button onclick="toggleAtlases();">Toggle Atlas View</button>
        </div>
	</body>
</html>
